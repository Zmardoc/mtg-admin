import{b as f}from"./index.4c3aec77.js";import{g as o,Q as s,i as C,q as _}from"./query.a51d996e.js";const y={install:(i,e={})=>{const c=o(e.queryClientKey);let n;if("queryClient"in e&&e.queryClient)n=e.queryClient;else if(e.contextSharing&&typeof window!="undefined")if(window.__VUE_QUERY_CONTEXT__)n=window.__VUE_QUERY_CONTEXT__;else{const t="queryClientConfig"in e?e.queryClientConfig:void 0;n=new s(t),window.__VUE_QUERY_CONTEXT__=n}else{const t="queryClientConfig"in e?e.queryClientConfig:void 0;n=new s(t)}C||n.mount();let u=()=>{};if(e.clientPersister){n.isRestoring.value=!0;const[t,l]=e.clientPersister(n);u=t,l.then(()=>{n.isRestoring.value=!1,e.clientPersisterOnSuccess==null||e.clientPersisterOnSuccess(n)})}const r=()=>{n.unmount(),u()};if(i.onUnmount)i.onUnmount(r);else{const t=i.unmount;i.unmount=function(){r(),t()}}i.provide(c,n)}};var g=f(({app:i})=>{i.use(y,{queryClient:_})});export{g as default};
